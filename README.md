# 日志文件分析工具 #
该工具可实现对日志文件的分析，包括
- 条件筛选：范围、包含、不包含、相等、不等、大于、大于等于、小于、小于等于、正则匹配
- 不同条件可“或”与“并”可灵活控制
- 函数：可以通过自定义`AttPreProcessor`对字段进行预处理，依次来实现“函数”能力
- 分组求值：最大值，最小值，平均值，求和
- 支持对统计结果的排序
- 使用Limit控制输出数量
- 可同时处理多个文件，支持文件名通配符


## 使用示例 ##
访问日志示例：
```bash
120.244.106.255 - - 15/04/2019:01:38:49 +0800 "GET / HTTP/1.1" 302 -
120.244.106.255 - - 15/04/2019:01:38:49 +0800 "GET /auth.do HTTP/1.1" 302 -
120.244.106.255 - - 15/04/2019:01:38:49 +0800 "GET /loginUI.do HTTP/1.1" 302 -
120.244.106.255 - - 15/04/2019:01:39:04 +0800 "GET /loginUI.do HTTP/1.1" 200 13881
120.244.106.255 - - 15/04/2019:01:39:04 +0800 "GET /admin/filee/1ec45f5bfbd718a0e5b93a9 HTTP/1.1" 200 39735
120.244.106.255 - - 15/04/2019:01:39:05 +0800 "GET /img/favicon/favicon.ico HTTP/1.1" 404 1040
120.244.106.255 - - 15/04/2019:01:39:33 +0800 "GET /admin/filee/5f5bfbd718a0e5b93a9 HTTP/1.1" 200 39735
222.137.114.157 - - 15/04/2019:04:27:01 +0800 "GET / HTTP/1.1" 302 -
222.137.114.157 - - 15/04/2019:04:27:02 +0800 "GET / HTTP/1.1" 302 -
222.137.114.157 - - 15/04/2019:04:27:04 +0800 "GET / HTTP/1.1" 302 -
222.137.114.157 - - 15/04/2019:04:27:07 +0800 "GET / HTTP/1.1" 302 -
222.137.114.157 - - 15/04/2019:04:27:14 +0800 "GET / HTTP/1.1" 302 -
205.205.150.10 - - 15/04/2019:07:19:15 +0800 "GET / HTTP/1.1" 302 -
205.205.150.10 - - 15/04/2019:07:19:15 +0800 "GET /auth.do HTTP/1.1" 302 -
205.205.150.10 - - 15/04/2019:07:19:15 +0800 "GET /loginUI.do HTTP/1.1" 302 -
177.93.97.240 - - 15/04/2019:08:22:23 +0800 "GET / HTTP/1.1" 302 -
...
```
下面的代码实现对访问量的统计，输出每分钟访问总数,并且按访问数排序：

```java
	@Test
	public void testCount()throws Exception{
		FileScaner scaner = new FileScaner(
				"path\\to\\access_log_file\\localhost_access_log.txt");
		List<List<Object>> list = 
				scaner.select("3,count(1)")
				 .groupBy("3")
				 .processor(3, new AttPreProcessor() {
					@Override
					public String process(String att) {
						Date date = DateUtil.parse(att);
						return DateUtil.format(date, "yyyy-MM-dd HH:mm");
					}
				  })
				 .orderBy(OrderBy.desc(1))
				 .limit(10)
				.list();
		for(List<Object> l : list){
			System.out.println(l);
		}
	}

```
输出效果：
```bash
[2019-04-15 14:47, 387.0]
[2019-04-15 14:41, 342.0]
[2019-04-15 14:42, 307.0]
[2019-04-15 14:40, 239.0]
[2019-04-15 14:45, 219.0]
[2019-04-15 14:33, 195.0]
[2019-04-15 14:30, 190.0]
[2019-04-15 13:52, 188.0]
[2019-04-15 14:46, 183.0]
[2019-04-15 14:34, 181.0]
```
